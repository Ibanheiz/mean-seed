!function(e){"use strict";e.module("app",["app.controllers","app.directives","app.filters","app.services","ngSanitize","ngRoute","ngResource","ngAnimate"]).config(["$routeProvider","$locationProvider",function(e,n){var r=["$q","$http","$location",function(e,n,r){var t=e.defer();return n.get("/loggedin").success(function(e){"0"!==e?t.resolve():(t.reject(),r.url("/mean-seed/login"))}),t.promise}];e.when("/mean-seed/login",{templateUrl:"expose/login/login",controller:"LoginController"}).when("/mean-seed/signup",{templateUrl:"expose/login/signup",controller:"SignupController"}).when("/mean-seed/client",{templateUrl:"expose/client/list",controller:"ClientListController",resolve:{loggedin:r}}).when("/mean-seed/client/create",{templateUrl:"expose/client/save",controller:"ClientCreateController",resolve:{loggedin:r}}).when("/mean-seed/client/:id/edit",{templateUrl:"expose/client/save",controller:"ClientEditController",resolve:{loggedin:r}}).when("/mean-seed/client/:id/remove",{templateUrl:"expose/client/edit",controller:"ClientRemoveController",resolve:{loggedin:r}}).when("/mean-seed/user",{templateUrl:"expose/user/list",controller:"UserController",resolve:{loggedin:r}}).when("/mean-seed/404",{templateUrl:"expose/main/404",controller:"UserController",resolve:{loggedin:r}}).otherwise({redirectTo:"/mean-seed/404"}),n.html5Mode(!0)}]).config(["$provide","$httpProvider",function(e,n){e.factory("authenticateInterceptor",["$q","$location",function(e,n){return{response:function(e){return e},responseError:function(r){return 401===r.status&&n.url("/mean-seed/login"),e.reject(r)}}}]),n.interceptors.push("authenticateInterceptor")}])}(angular);
!function(l){"use strict";l.module("app.controllers",["app.modules.User.controllers","app.modules.Client.controllers","app.modules.Login.controllers"])}(angular);
!function(e){"use strict";e.module("app.directives",["app.modules.Client.directives"])}(angular);
!function(t){"use strict";t.module("app.filters",[])}(angular);
!function(e){"use strict";e.module("app.services",["app.modules.Client.services","app.modules.Login.services"])}(angular);
!function(e){"use strict";function o(e,o){o.findAll().then(function(o){s.cbFindAllSucess(o,e)},function(o){s.cbError("Erro ao buscar os Clientes: ",o,e)})}function n(e,o,n){e.title="Novo Cliente",e.pessoa="fisica",e.showModal=!1,e.save=function(i){n.create(i).then(function(n){s.cbCreateSucess(n,e,o)},function(o){s.cbError("Erro ao cadastrar o Cliente: ",o,e)})},e.isPessoaFisica=function(){return s.isPessoaFisica(e)},e.isCadastro=function(){return s.isCadastro(e)},e.resetCpfCnpj=function(){s.resetCpfCnpj(e)}}function i(o,n,i,t){var c=t;o.readonly=!0,o.showModal=!1,s.findClienteById(c,o,n),o.save=function(e){c.update(e).then(function(){s.cbUpdateSucess(o,i)},function(e){s.cbError("Erro ao alterar o Cliente: ",e,o)})},o.edit=function(){o.readonly=!1},o.cancel=function(){o.readonly=!0,e.copy(o.clientCopy,o.client),e.copy(o.pessoaCopy,o.pessoa)},o.isPessoaFisica=function(){return s.isPessoaFisica(o)},o.isCadastro=function(){return s.isCadastro(o)},o.resetCpfCnpj=function(){s.resetCpfCnpj(o)}}function t(e,o){e.remove=function(n){confirm("Deseja realmente excluir o Cliente "+n.razaoSocial+"?")&&o.remove(n).then(function(){s.cbRemoveSucess(n,e),s.removeItem(e.clients,n)},function(o){s.cbError("Erro ao alterar o Cliente: ",o,e)})}}function c(e,o,n){s.findClienteById(n,e,o)}var s={removeItem:function(e,o){var n=e.indexOf(o);n>-1&&e.splice(n,1)},cbFindAllSucess:function(e,o){o.clients=e.data,o.message="Listando todos os Cliente",console.log(e)},cbCreateSucess:function(e,o,n){o.message="Cliente "+e.data.razaoSocial+" cadastrado com sucesso",o.client={},s.showModal(o,n)},cbShowSucess:function(e,o){o.client=e.data;var n=o.client;o.title="Alterando o Cliente "+o.client.razaoSocial,o.pessoa=n.cpf&&""!==n.cpf?"fisica":"juridica",o.message="Cliente "+o.client.razaoSocial+" sendo exibido",s.copy(o)},cbUpdateSucess:function(e,o){e.message="Cliente "+e.client.razaoSocial+" alterado com sucesso",e.readonly=!0,s.copy(e),s.showModal(e,o)},cbRemoveSucess:function(e,o){o.message="Cliente "+e.razaoSocial+" removido com sucesso"},cbError:function(e,o,n){console.log(o),n.status=e+o.message},findClienteById:function(e,o,n){var i=n.id;e.findOneById(i).then(function(e){s.cbShowSucess(e,o)},function(e){s.cbError("Erro ao exibir o Cliente: ",e,o)})},isPessoaFisica:function(e){return"fisica"===e.pessoa?!0:void 0},isCadastro:function(o){return e.isUndefined(o.client)?!0:e.isUndefined(o.client._id)?!0:!1},resetCpfCnpj:function(e){e.client.cpf=null,e.client.cnpj=null},copy:function(o){o.clientCopy=e.copy(o.client),o.pessoaCopy=e.copy(o.pessoa)},showModal:function(e,o){e.showModal=!e.showModal,o(function(){e.showModal=!e.showModal},4e3)}};e.module("app.modules.Client.controllers",[]).controller("ClientListController",o).controller("ClientCreateController",n).controller("ClientEditController",i).controller("ClientRemoveController",t).controller("ClientShowController",c),o.$inject=["$scope","ClientService"],n.$inject=["$scope","$timeout","ClientService"],i.$inject=["$scope","$routeParams","$timeout","ClientService"],t.$inject=["$scope","ClientService"],c.$inject=["$scope","$routeParams","ClientService"]}(angular);
!function(i){"use strict";function t(){return{restrict:"E",scope:{show:"="},replace:!0,transclude:!0,link:function(i,t,d){i.dialogStyle={},d.width&&(i.dialogStyle.width=d.width),d.minHeight&&(i.dialogStyle.minHeight=d.minHeight),d.padding&&(i.dialogStyle.paddingTop=d.padding,i.dialogStyle.paddingBottom=d.padding),i.hideModal=function(){i.show=!1}},templateUrl:"partials/template-modal"}}i.module("app.modules.Client.directives",[]).directive("modalDialog",t)}(angular);
!function(t){function e(t){var e="api/client";this.findAll=function(){return t.get(e)},this.findOneById=function(i){return t.get(e+"/id/"+i)},this.create=function(i){return t.post(e,i)},this.update=function(i){return t.put(e+"/id/"+i._id,i)},this.remove=function(i){return t["delete"](e+"/id/"+i._id,i)}}t.module("app.modules.Client.services",[]).service("ClientService",e),e.$inject=["$http"]}(angular);
!function(o){"use strict";function n(o,n,r,s){o.showModal=!1,o.login=function(n){s.login(n).then(function(n){e.cbError("Erro ao criar o usuário.",n,o)})}}function r(o,n,r,s){o.showModal=!1,o.createUser=function(n){e.validatePassword(n)?s.create(n).then(function(n){e.cbCreateSucess(n,o,r)},function(n){e.cbError("Erro ao criar o usuário.",n,o)}):(o.message="Senha diferente da confirmação",e.showModal(o,r))}}var e={cbCreateSucess:function(o,n,r){n.message="Usuário cadastrado com sucesso",n.user={},e.showModal(n,r)},cbLoginInvalid:function(o,n,r){n.message=o.data,n.user={},e.showModal(n,r)},validatePassword:function(o){return o.confirmPassword===o.password},cbError:function(o,n,r){console.log(n),r.status=o+" "+n.message},showModal:function(o,n){o.showModal=!o.showModal,n(function(){o.showModal=!o.showModal},4e3)}};o.module("app.modules.Login.controllers",[]).controller("LoginController",n).controller("SignupController",r),n.$inject=["$scope","$http","$timeout","LoginService"],r.$inject=["$scope","$http","$timeout","LoginService"]}(angular);
!function(i){function n(i){this.create=function(n){return i.post("api/login/signup",n)},this.login=function(n){return i.post("api/login/login",n)}}i.module("app.modules.Login.services",[]).service("LoginService",n),n.$inject=["$http"]}(angular);
!function(e){"use strict";function o(e){e.mensagem="Listagem de Usuários"}e.module("app.modules.User.controllers",[]).controller("UserController",o),o.$inject=["$scope","$http"]}(angular);
!function(){"use strict"}(angular);
!function(){"use strict"}(angular);