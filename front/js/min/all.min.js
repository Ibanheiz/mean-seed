!function(e){"use strict";function o(e,o,t){var n=e.defer();return o.get("/api/login/loggedin").success(function(e){t(n,e)}),n.promise}function t(e,o,t){e.when(t.getLogin,{templateUrl:"expose/login/login",controller:"LoginController",resolve:{loggedin:r.checkLoggedOut}}).when(t.getSignup,{templateUrl:"expose/login/signup",controller:"SignupController",resolve:{loggedin:r.checkLoggedOut}}).when(t.getHome,{templateUrl:"expose/client/list",controller:"ClientListController",resolve:{loggedin:r.checkLoggedin}}).when(t.getCreateClient,{templateUrl:"expose/client/save",controller:"ClientCreateController",resolve:{loggedin:r.checkLoggedin}}).when(t.getEditClient,{templateUrl:"expose/client/save",controller:"ClientEditController",resolve:{loggedin:r.checkLoggedin}}).when(t.getRemoveClient,{templateUrl:"expose/client/remove",controller:"ClientRemoveController",resolve:{loggedin:r.checkLoggedin}}).when(t.getUser,{templateUrl:"expose/user/list",controller:"UserController",resolve:{loggedin:r.checkLoggedin}}).when(t.get404,{templateUrl:"expose/main/404",controller:"UserController",resolve:{loggedin:r.checkLoggedin}}).otherwise({redirectTo:t.get404}),o.html5Mode(!0)}function n(e,o){e.systemUri=o}var r={checkLoggedin:["$q","$http","$location","$cookieStore","systemUri",function(e,t,n,r,l){o(e,t,function(e,o){"0"!==o?(r.put("user",o),e.resolve()):(e.reject(),n.url(l.getLogin()))})}],checkLoggedOut:["$q","$http","$location","$cookieStore","systemUri",function(e,t,n,r,l){o(e,t,function(e,o){"0"!==o?(e.reject(),n.url(l.getHome())):(r.remove("user"),e.resolve())})}]};t.$inject=["$routeProvider","$locationProvider","systemUriConfig"],n.$inject=["$rootScope","systemUri"],e.module("app",["app.controllers","app.directives","app.filters","app.services","app.factorys","app.constants","ngAnimate","ngSanitize","ngRoute","ngMask","ngCookies","ngResource"]).config(t).run(n)}(angular);
!function(e){"use strict";e.module("app.constants",[]).constant("systemUriConfig",{getBaseUrl:"/mean-seed",getHome:"/mean-seed/client",getLogin:"/mean-seed/login",getSignup:"/mean-seed/signup",getCreateClient:"/mean-seed/client/create",getEditClient:"/mean-seed/client/:id/edit",getRemoveClient:"/mean-seed/client/:id/remove",getUser:"/mean-seed/user",get404:"/mean-seed/404"})}(angular);
!function(l){"use strict";l.module("app.controllers",["app.modules.Main.controllers","app.modules.User.controllers","app.modules.Client.controllers","app.modules.Login.controllers"])}(angular);
!function(e){"use strict";function t(){return{restrict:"E",scope:{show:"="},replace:!0,transclude:!0,link:function(e,t,n){setTimeout(function(){t.removeAttr("style")},1e3),e.hideModal=function(){e.show=!1}},templateUrl:"partials/template-modal"}}function n(){return{restrict:"A",link:function(t,n,o){n.on("click",function(){var t=o.targetId,n=e.element(document.getElementById(t)),s=o.hasOwnProperty("showClass")?o.showClass:"div-show";n.hasClass(s)?n.removeClass(s):n.addClass(s)})}}}e.module("app.directives",["app.modules.Client.directives"]).directive("toggleComponent",n).directive("modalDialog",t)}(angular);
!function(e){"use strict";function t(e){return{getHome:function(){return e.getHome},getLogin:function(){return e.getLogin},getSignup:function(){return e.getSignup},getCreateClient:function(){return e.getCreateClient},getEditClient:function(t){return e.getEditClient.replace(":id",t)},getRemoveClient:function(t){return e.getRemoveClient.replace(":id",t)},getUser:function(){return e.getUser},get404:function(){return e.get404}}}t.$inject=["systemUriConfig"],e.module("app.factorys",[]).factory("systemUri",t)}(angular);
!function(t){"use strict";t.module("app.filters",[])}(angular);
!function(e){"use strict";e.module("app.services",["app.modules.Client.services","app.modules.Login.services"])}(angular);
!function(e){"use strict";function n(e,n){n.findAll().then(function(n){s.cbFindAllSucess(n,e)},function(n){s.cbError("Erro ao buscar os Clientes: ",n,e)})}function o(e,n,o){e.title="Novo Cliente",e.client={},e.client.pessoa="fisica",e.showModal=!1,e.save=function(i){o.create(i).then(function(o){s.cbCreateSucess(o,e,n)},function(n){s.cbError("Erro ao cadastrar o Cliente: ",n,e)})},e.isPessoaFisica=function(){return s.isPessoaFisica(e)},e.isCadastro=function(){return s.isCadastro(e)},e.resetCpfCnpj=function(){s.resetCpfCnpj(e)}}function i(n,o,i,t){var c=t;n.readonly=!0,n.showModal=!1,s.findClienteById(c,n,o),n.save=function(e){c.update(e).then(function(){s.cbUpdateSucess(n,i)},function(e){s.cbError("Erro ao alterar o Cliente: ",e,n)})},n.edit=function(){n.readonly=!1},n.cancel=function(){n.readonly=!0,e.equals(n.clientCopy,n.client)||e.copy(n.clientCopy,n.client)},n.isPessoaFisica=function(){return s.isPessoaFisica(n)},n.isCadastro=function(){return s.isCadastro(n)},n.resetCpfCnpj=function(){s.resetCpfCnpj(n)}}function t(e,n){e.remove=function(o){confirm("Deseja realmente excluir o Cliente "+o.razaoSocial+"?")&&n.remove(o).then(function(){s.cbRemoveSucess(o,e),s.removeItem(e.clients,o)},function(n){s.cbError("Erro ao alterar o Cliente: ",n,e)})}}function c(e,n,o){s.findClienteById(o,e,n)}var s={removeItem:function(e,n){var o=e.indexOf(n);o>-1&&e.splice(o,1)},cbFindAllSucess:function(e,n){n.clients=e.data,n.message="Listando todos os Cliente",console.log(e)},cbCreateSucess:function(e,n,o){n.message="Cliente "+e.data.razaoSocial+" cadastrado com sucesso",n.client={},s.showModal(n,o)},cbShowSucess:function(e,n){n.client=e.data;var o=n.client;n.title="Alterando o Cliente "+n.client.razaoSocial,n.client.pessoa=o.cpf&&""!==o.cpf?"fisica":"juridica",n.message="Cliente "+n.client.razaoSocial+" sendo exibido",s.copy(n)},cbUpdateSucess:function(e,n){e.message="Cliente "+e.client.razaoSocial+" alterado com sucesso",e.readonly=!0,s.copy(e),s.showModal(e,n)},cbRemoveSucess:function(e,n){n.message="Cliente "+e.razaoSocial+" removido com sucesso"},cbError:function(e,n,o){console.log(n),o.status=e+n.message},findClienteById:function(e,n,o){var i=o.id;e.findOneById(i).then(function(e){s.cbShowSucess(e,n)},function(e){s.cbError("Erro ao exibir o Cliente: ",e,n)})},isPessoaFisica:function(n){return e.isDefined(n.client)&&"fisica"===n.client.pessoa?!0:void 0},isCadastro:function(n){return e.isUndefined(n.client)||e.isUndefined(n.client._id)?!0:!1},resetCpfCnpj:function(e){e.client.cpf=null,e.client.cnpj=null},copy:function(n){n.clientCopy=e.copy(n.client)},showModal:function(e,n){e.showModal=!e.showModal,n(function(){e.showModal=!e.showModal},4e3)}};e.module("app.modules.Client.controllers",[]).controller("ClientListController",n).controller("ClientCreateController",o).controller("ClientEditController",i).controller("ClientRemoveController",t).controller("ClientShowController",c),n.$inject=["$scope","ClientService"],o.$inject=["$scope","$timeout","ClientService"],i.$inject=["$scope","$routeParams","$timeout","ClientService"],t.$inject=["$scope","ClientService"],c.$inject=["$scope","$routeParams","ClientService"]}(angular);
!function(e){"use strict";e.module("app.modules.Client.directives",[])}(angular);
!function(t){function e(t){var e="api/client";this.findAll=function(){return t.get(e)},this.findOneById=function(i){return t.get(e+"/id/"+i)},this.create=function(i){return t.post(e,i)},this.update=function(i){return t.put(e+"/id/"+i._id,i)},this.remove=function(i){return t["delete"](e+"/id/"+i._id,i)}}t.module("app.modules.Client.services",[]).service("ClientService",e),e.$inject=["$http"]}(angular);
!function(o){"use strict";function e(o,e,n,r,s){o.showModal=!1,o.login=function(e){s.login(e).then(function(e){t.cbValidateLogin(e,o,n,r,o.systemUri)},function(e){t.cbError("Erro ao efetuar Login.",e,o)})},o.signout=function(){s.signout().then(function(e){r.url(o.systemUri.getLogin())},function(e){t.cbError("Erro ao efetuar logout.",e,o)})}}function n(o,e,n,r,s){o.showModal=!1,o.createUser=function(e){t.validatePassword(e)?s.create(e).then(function(e){t.cbCreateSucess(e,o,n,r,o.systemUri)},function(e){t.cbError("Erro ao criar o usuário.",e,o)}):(o.message="Senha diferente da confirmação",t.showModal(o,n))}}var t={cbCreateSucess:function(o,e,n,r,s){e.message="Usuário cadastrado com sucesso",e.user={},r.url(s.getHome()),t.showModal(e,n)},cbValidateLogin:function(o,e,n,r,s){var a=o.data.user;a?r.url(s.getHome()):(e.message=o.data.message,e.user.password=null,t.showModal(e,n))},validatePassword:function(o){return o.confirmPassword===o.password},cbError:function(o,e,n){n.status=o+" "+e.message},showModal:function(o,e){o.showModal=!o.showModal,e(function(){o.showModal=!o.showModal},4e3)}};o.module("app.modules.Login.controllers",[]).controller("LoginController",e).controller("SignupController",n),e.$inject=["$scope","$http","$timeout","$location","LoginService"],n.$inject=["$scope","$http","$timeout","$location","LoginService"]}(angular);
!function(i){function n(i){this.create=function(n){return i.post("api/login/signup",n)},this.login=function(n){return i.post("api/login/login",n)},this.signout=function(){return i.get("api/login/signout")}}i.module("app.modules.Login.services",[]).service("LoginService",n),n.$inject=["$http"]}(angular);
!function(e){"use strict";function t(t,n,o){t.isAuthenticated=function(){return e.isDefined(o.get("user"))}}e.module("app.modules.Main.controllers",[]).controller("MainController",t),t.$inject=["$scope","$http","$cookieStore"]}(angular);
!function(e){"use strict";function o(e,o){e.mensagem="Listagem de Usuários"}e.module("app.modules.User.controllers",[]).controller("UserController",o),o.$inject=["$scope","$http"]}(angular);
!function(n){"use strict"}(angular);
!function(n){"use strict"}(angular);